services:
  mcp-gateway:
    image: docker/mcp-gateway:latest
    container_name: mcp-gateway
    restart: unless-stopped
    command:
      - --servers=tavily,context7,playwright,github-official
      - --transport=streaming
      - --port=8811
    environment:
      TAVILY_API_KEY: ${TAVILY_API_KEY}
      GITHUB_PERSONAL_ACCESS_TOKEN: ${GITHUB_API_KEY}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    ports:
      - "8811:8811"
  vscode:
    image: lscr.io/linuxserver/code-server:latest
    container_name: vscode
    profiles: ["vscode"]
    restart: unless-stopped
    environment:
      TZ: America/Montreal
      # Set a password or SSO settings as you prefer
      PASSWORD: ${CODE_SERVER_PASSWORD:-changeme}
    volumes:
      - ./workspace:/config/workspace
    ports:
      - "8443:8443"
